<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestor Normativo - Sistema de Ingeniería</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel para procesar JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- PapaParse para procesar CSV robustamente -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>

    <style>
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: #0f172a; }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 2px; }
        ::-webkit-scrollbar-thumb:hover { background: #06b6d4; }
        
        @keyframes scanline {
            0% { transform: translateY(-100%); }
            100% { transform: translateY(100%); }
        }
        .scanline-effect { animation: scanline 8s linear infinite; }
    </style>
</head>
<body class="bg-slate-900 text-slate-200">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // --- ICONOS SVG ---
        const Icons = {
            FileText: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><line x1="10" y1="9" x2="8" y2="9"/></svg>,
            Search: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>,
            Database: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><ellipse cx="12" cy="5" rx="9" ry="3"/><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"/><path d="M3 5v14c0 1.66 4 3 9 3s 9-1.34 9-3V5"/></svg>,
            Shield: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>,
            Zap: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>,
            BookOpen: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>,
            Filter: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"/></svg>,
            ExternalLink: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>,
            Cpu: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="4" y="4" width="16" height="16" rx="2" ry="2"/><rect x="9" y="9" width="6" height="6"/><line x1="9" y1="1" x2="9" y2="4"/><line x1="15" y1="1" x2="15" y2="4"/><line x1="9" y1="20" x2="9" y2="23"/><line x1="15" y1="20" x2="15" y2="23"/><line x1="20" y1="9" x2="23" y2="9"/><line x1="20" y1="14" x2="23" y2="14"/><line x1="1" y1="9" x2="4" y2="9"/><line x1="1" y1="14" x2="4" y2="14"/></svg>,
            Terminal: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="4 17 10 11 4 5"/><line x1="12" y1="19" x2="20" y2="19"/></svg>,
            Clock: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>,
            Menu: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg>,
            X: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>,
            Wrench: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>,
            Briefcase: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="2" y="7" width="20" height="14" rx="2" ry="2"/><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/></svg>,
            HardHat: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M2 18a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v2z"/><path d="M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5"/><path d="M4 15v-3a6 6 0 0 1 6-6h0"/><path d="M14 6h0a6 6 0 0 1 6 6v3"/></svg>,
            List: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/><line x1="3" y1="6" x2="3.01" y2="6"/><line x1="3" y1="12" x2="3.01" y2="12"/><line x1="3" y1="18" x2="3.01" y2="18"/></svg>,
            Grid: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/></svg>,
            ChevronLeft: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="15 18 9 12 15 6"/></svg>,
            ChevronRight: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="9 18 15 12 9 6"/></svg>
        };

        // --- DATOS CSV INCORPORADOS ---
        // Aquí puedes pegar el contenido de tu CSV completo si cambia.
        const csvData = `Nombre del Archivo,Enlace (URL),Carpeta Actual,Ruta Completa,Tipo,Tamaño (MB),Fecha Creación
Relacion de documentos Libreria,https://docs.google.com/spreadsheets/d/17lbkxFmbawCzX-F180wZusa4EHqWd4HitqT6bLU3-54/edit?usp=drivesdk,2. Libreria,2. Libreria,application/vnd.google-apps.spreadsheet,0.00,2025-12-06
Resolucion 1857 del 2024.pdf,https://drive.google.com/file/d/1OnNuu7OSaEvrBuwFi2AwtccwsjDTxAfE/view?usp=drivesdk,5. Resoluciones,2. Libreria / 5. Resoluciones,application/pdf,4.89,2024-11-07
Anexo General del RETIE Resolucion 90708_2013.pdf,https://drive.google.com/file/d/1-UtQ37H97BUH7vlzwKcskRu9gbP60Q6t/view?usp=drivesdk,5. Resoluciones,2. Libreria / 5. Resoluciones,application/pdf,4.13,2021-10-22
RESOLUCION_CREG_NACION_0067_1995.pdf,https://drive.google.com/file/d/1-ac-BrBzRFEpms9EImY6V-sBPjmS9E4oF/view?usp=drivesdk,5. Resoluciones,2. Libreria / 5. Resoluciones,application/pdf,2.07,2021-10-22
Copia de CO2BC0~1.PDF,https://drive.google.com/file/d/1WX2B14cdgQKAIvPpb-Mr4RzCNB70cOhK/view?usp=drivesdk,1. Certificado de materiales,2. Libreria / 1. Certificado de materiales,application/pdf,1.57,2021-08-18
Copia de CO52C6~1.PDF,https://drive.google.com/file/d/1XnKHUVBiynibLNwh9eu1ziFgGp2l4xev/view?usp=drivesdk,1. Certificado de materiales,2. Libreria / 1. Certificado de materiales,application/pdf,0.69,2021-08-18
Copia de COA983~1.PDF,https://drive.google.com/file/d/1cg0N_6XKDf3dBjw0NhUWYYUlYAxn2Rgt/view?usp=drivesdk,1. Certificado de materiales,2. Libreria / 1. Certificado de materiales,application/pdf,1.55,2021-08-18
Copia de CO66AB~1.PDF,https://drive.google.com/file/d/1io-zdVMWYdkJwTQz7EQI6_IyrWJ3xF6K/view?usp=drivesdk,1. Certificado de materiales,2. Libreria / 1. Certificado de materiales,application/pdf,1.52,2021-08-18`;

        function GestorNormativo() {
          const [documents, setDocuments] = useState([]);
          const [categories, setCategories] = useState(['Todos']);
          const [activeCategory, setActiveCategory] = useState('Todos');
          const [searchTerm, setSearchTerm] = useState('');
          const [currentTime, setCurrentTime] = useState(new Date());
          const [sidebarOpen, setSidebarOpen] = useState(true);
          const [viewMode, setViewMode] = useState('grid');
          const [currentPage, setCurrentPage] = useState(1);
          const itemsPerPage = 12;

          useEffect(() => {
            const timer = setInterval(() => setCurrentTime(new Date()), 1000);
            
            // --- PARSEO CSV ---
            Papa.parse(csvData, {
                header: true,
                skipEmptyLines: true,
                complete: (results) => {
                    const parsedDocs = results.data.map((row, index) => {
                        // Limpieza de Categoría (e.g., "5. Resoluciones" -> "Resoluciones")
                        const rawCat = row['Carpeta Actual'] || 'General';
                        const cleanCat = rawCat.replace(/^\d+\.\s*/, '').trim(); 
                        
                        // ID Generado
                        let prefix = cleanCat.substring(0,3).toUpperCase();
                        if (prefix === 'CER') prefix = 'MAT'; // Alias para certificados
                        const id = `${prefix}-${String(index + 1).padStart(3, '0')}`;

                        return {
                            id: id,
                            code: row['Nombre del Archivo'] || 'SIN NOMBRE',
                            title: row['Nombre del Archivo']?.replace(/\.pdf$/i, '') || 'Documento sin título',
                            category: cleanCat,
                            originalCategory: rawCat,
                            date: row['Fecha Creación'] || 'N/A',
                            status: 'DISPONIBLE', // Por defecto ya que son de librería
                            url: row['Enlace (URL)'] || '#',
                            type: row['Tipo'] || 'Unknown'
                        };
                    }).filter(doc => doc.url && doc.url !== '#'); // Filtrar líneas vacías o inválidas

                    setDocuments(parsedDocs);

                    // Extraer categorías únicas
                    const uniqueCats = ['Todos', ...new Set(parsedDocs.map(d => d.category))].sort();
                    setCategories(uniqueCats);
                }
            });

            return () => clearInterval(timer);
          }, []);

          // Filtrado
          const filteredDocs = useMemo(() => {
            return documents.filter(doc => {
                const matchesCategory = activeCategory === 'Todos' || doc.category === activeCategory;
                const matchesSearch = doc.title.toLowerCase().includes(searchTerm.toLowerCase()) || 
                                      doc.code.toLowerCase().includes(searchTerm.toLowerCase());
                return matchesCategory && matchesSearch;
            });
          }, [documents, activeCategory, searchTerm]);

          // Paginación
          const totalPages = Math.ceil(filteredDocs.length / itemsPerPage);
          const currentDocs = filteredDocs.slice((currentPage - 1) * itemsPerPage, currentPage * itemsPerPage);

          useEffect(() => {
              setCurrentPage(1);
          }, [activeCategory, searchTerm]);

          const getStatusColor = (status) => {
            switch (status) {
              case 'DISPONIBLE': return 'text-emerald-400 border-emerald-400 bg-emerald-400/10';
              case 'VIGENTE': return 'text-cyan-400 border-cyan-400 bg-cyan-400/10';
              default: return 'text-slate-400 border-slate-400';
            }
          };

          const getCategoryIcon = (cat) => {
             // Mapeo dinámico simple basado en palabras clave
             const lowerCat = cat.toLowerCase();
             if (lowerCat.includes('res')) return <Icons.BookOpen size={12} className="text-purple-500" />;
             if (lowerCat.includes('cert')) return <Icons.Shield size={12} className="text-emerald-500" />;
             if (lowerCat.includes('lib')) return <Icons.Database size={12} className="text-blue-500" />;
             if (lowerCat.includes('ing')) return <Icons.Cpu size={12} className="text-cyan-500" />;
             return <Icons.FileText size={12} className="text-slate-400" />;
          };

          return (
            <div className="min-h-screen bg-slate-900 text-slate-200 font-mono flex flex-col overflow-hidden selection:bg-cyan-500/30">
              
              {/* --- HEADER --- */}
              <header className="h-16 border-b border-slate-700 bg-slate-950 flex items-center justify-between px-4 z-20 shadow-lg shadow-black/20">
                <div className="flex items-center gap-3">
                  <button onClick={() => setSidebarOpen(!sidebarOpen)} className="p-2 hover:bg-slate-800 rounded border border-slate-700 transition-colors">
                    {sidebarOpen ? <Icons.X size={20} className="text-cyan-400" /> : <Icons.Menu size={20} className="text-cyan-400" />}
                  </button>
                  <div className="flex items-center gap-2">
                    <Icons.Database className="text-cyan-500" size={24} />
                    <div>
                      <h1 className="text-lg font-bold tracking-wider text-cyan-50 uppercase">Gestor Normativo</h1>
                      <div className="text-[10px] text-cyan-600 leading-none tracking-[0.2em]">LIBRERÍA CENTRAL V.3.0 - CSV LINKED</div>
                    </div>
                  </div>
                </div>

                <div className="hidden md:flex items-center gap-6 text-xs text-slate-500">
                  <div className="flex items-center gap-2">
                    <div className="w-2 h-2 rounded-full bg-emerald-500 animate-pulse"></div>
                    <span>ESTADO: ONLINE</span>
                  </div>
                  <div className="flex items-center gap-2 border-l border-slate-800 pl-4">
                    <Icons.Clock size={14} />
                    <span>{currentTime.toLocaleTimeString('es-ES', { hour12: false })} UTC-5</span>
                  </div>
                </div>
              </header>

              <div className="flex flex-1 overflow-hidden relative">
                
                {/* --- SIDEBAR --- */}
                <aside className={`${sidebarOpen ? 'w-64' : 'w-0'} bg-slate-950 border-r border-slate-800 transition-all duration-300 flex flex-col overflow-hidden relative`}>
                  <div className="absolute inset-0 opacity-[0.03] pointer-events-none" 
                       style={{ backgroundImage: 'linear-gradient(#00ffff 1px, transparent 1px), linear-gradient(90deg, #00ffff 1px, transparent 1px)', backgroundSize: '20px 20px' }}>
                  </div>

                  <div className="p-4 space-y-6 z-10 overflow-y-auto h-full pb-20">
                    <div>
                      <h3 className="text-xs font-bold text-slate-500 mb-3 px-2 flex items-center gap-2">
                        <Icons.Filter size={12} />
                        CARPETAS / CATEGORÍAS
                      </h3>
                      <nav className="space-y-1">
                        {categories.map(cat => (
                          <button
                            key={cat}
                            onClick={() => setActiveCategory(cat)}
                            className={`w-full text-left px-3 py-2 text-xs uppercase tracking-wide border-l-2 transition-all duration-200 flex items-center justify-between group
                              ${activeCategory === cat 
                                ? 'border-cyan-500 bg-cyan-950/30 text-cyan-300 shadow-[0_0_10px_rgba(6,182,212,0.1)]' 
                                : 'border-transparent text-slate-400 hover:text-slate-200 hover:bg-slate-900'
                              }`}
                          >
                            <span>{cat}</span>
                            {activeCategory === cat && getCategoryIcon(cat)}
                          </button>
                        ))}
                      </nav>
                    </div>

                    <div className="border-t border-slate-800 pt-4">
                       <div className="bg-slate-900 border border-slate-700 p-3 rounded text-[10px] space-y-2">
                         <div className="flex justify-between text-slate-400">
                           <span>TOTAL DOCS:</span>
                           <span className="text-cyan-400">{documents.length}</span>
                         </div>
                         <div className="flex justify-between text-slate-400">
                           <span>VISIBLES:</span>
                           <span className="text-cyan-400">{filteredDocs.length}</span>
                         </div>
                         <div className="h-1 w-full bg-slate-800 rounded-full overflow-hidden mt-2">
                           <div className="h-full bg-cyan-600 w-3/4"></div>
                         </div>
                         <p className="text-slate-600 text-center pt-1">BASE DE DATOS: CSV</p>
                       </div>
                    </div>
                  </div>
                </aside>

                {/* --- MAIN --- */}
                <main className="flex-1 flex flex-col relative overflow-hidden bg-slate-900">
                  <div className="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-cyan-500/50 to-transparent opacity-30 scanline-effect"></div>
                  
                  {/* SEARCH & CONTROLS */}
                  <div className="p-4 md:p-6 border-b border-slate-800 bg-slate-900/50 backdrop-blur-sm z-10 flex flex-col md:flex-row gap-4 justify-between items-center">
                    <div className="relative w-full max-w-xl">
                      <div className="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                        <Icons.Search className="h-5 w-5 text-slate-500" />
                      </div>
                      <input
                        type="text"
                        placeholder="BUSCAR DOCUMENTO..."
                        className="block w-full pl-10 pr-3 py-3 border border-slate-700 bg-slate-950/50 text-slate-200 placeholder-slate-600 focus:outline-none focus:ring-1 focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm uppercase tracking-wider rounded-sm shadow-inner"
                        value={searchTerm}
                        onChange={(e) => setSearchTerm(e.target.value)}
                      />
                    </div>
                    
                    {/* View Toggle */}
                    <div className="flex bg-slate-950 border border-slate-700 rounded p-1">
                        <button 
                            onClick={() => setViewMode('grid')}
                            className={`p-2 rounded ${viewMode === 'grid' ? 'bg-cyan-900/50 text-cyan-400' : 'text-slate-500 hover:text-slate-300'}`}
                            title="Vista Tarjetas"
                        >
                            <Icons.Grid size={18} />
                        </button>
                        <button 
                            onClick={() => setViewMode('list')}
                            className={`p-2 rounded ${viewMode === 'list' ? 'bg-cyan-900/50 text-cyan-400' : 'text-slate-500 hover:text-slate-300'}`}
                            title="Vista Lista"
                        >
                            <Icons.List size={18} />
                        </button>
                    </div>
                  </div>

                  {/* CONTENT AREA */}
                  <div className="flex-1 overflow-y-auto p-4 md:p-6">
                    
                    {/* GRID VIEW */}
                    {viewMode === 'grid' && (
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
                        {currentDocs.map((doc) => (
                            <div 
                            key={doc.id}
                            className="group relative bg-slate-950 border border-slate-800 hover:border-cyan-500/50 transition-all duration-300 overflow-hidden flex flex-col h-48"
                            >
                            <div className="absolute top-0 right-0 w-4 h-4 border-t border-r border-slate-600 group-hover:border-cyan-500 transition-colors"></div>
                            <div className="absolute bottom-0 left-0 w-4 h-4 border-b border-l border-slate-600 group-hover:border-cyan-500 transition-colors"></div>

                            <div className="p-4 flex flex-col h-full">
                                <div className="flex justify-between items-start mb-2">
                                <div className="flex items-center gap-2">
                                    <span className="text-[10px] font-bold text-slate-500 uppercase tracking-widest">{doc.id}</span>
                                </div>
                                <span className={`text-[9px] px-2 py-0.5 border rounded-sm font-bold tracking-wider ${getStatusColor(doc.status)}`}>
                                    {doc.status}
                                </span>
                                </div>

                                <h4 className="text-xs text-cyan-100 font-bold mb-1 leading-tight group-hover:text-cyan-400 transition-colors uppercase truncate" title={doc.code}>
                                {doc.code}
                                </h4>
                                <p className="text-[11px] text-slate-400 mb-2 flex-grow line-clamp-3 leading-relaxed border-t border-slate-900 pt-2">
                                {doc.title}
                                </p>

                                <div className="flex items-center justify-between mt-auto">
                                <span className="text-[9px] text-slate-600 bg-slate-900 px-1 rounded">{doc.date}</span>
                                <a 
                                    href={doc.url} 
                                    target="_blank"
                                    rel="noopener noreferrer"
                                    className="flex items-center gap-1 text-[10px] text-cyan-500 hover:text-cyan-300 hover:underline uppercase tracking-wide font-bold"
                                >
                                    ABRIR <Icons.ExternalLink size={10} />
                                </a>
                                </div>
                            </div>
                            
                            <div className="absolute inset-0 bg-gradient-to-t from-cyan-900/10 to-transparent opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity duration-300"></div>
                            </div>
                        ))}
                        </div>
                    )}

                    {/* LIST VIEW */}
                    {viewMode === 'list' && (
                        <div className="bg-slate-950 border border-slate-800 rounded overflow-hidden">
                            <table className="w-full text-left text-xs">
                                <thead className="bg-slate-900 text-slate-400 border-b border-slate-800">
                                    <tr>
                                        <th className="p-3 uppercase tracking-wider font-medium">ID</th>
                                        <th className="p-3 uppercase tracking-wider font-medium">Nombre</th>
                                        <th className="p-3 uppercase tracking-wider font-medium">Carpeta</th>
                                        <th className="p-3 uppercase tracking-wider font-medium">Fecha</th>
                                        <th className="p-3 uppercase tracking-wider font-medium text-right">Acción</th>
                                    </tr>
                                </thead>
                                <tbody className="divide-y divide-slate-800">
                                    {currentDocs.map(doc => (
                                        <tr key={doc.id} className="hover:bg-slate-900/50 transition-colors group">
                                            <td className="p-3 font-mono text-slate-500">{doc.id}</td>
                                            <td className="p-3 font-bold text-cyan-100 group-hover:text-cyan-400">{doc.title}</td>
                                            <td className="p-3 text-slate-500">{doc.category}</td>
                                            <td className="p-3 text-slate-500">{doc.date}</td>
                                            <td className="p-3 text-right">
                                                <a href={doc.url} target="_blank" className="text-cyan-600 hover:text-cyan-400">
                                                    <Icons.ExternalLink size={14} />
                                                </a>
                                            </td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </div>
                    )}
                    
                    {filteredDocs.length === 0 && (
                      <div className="h-full flex flex-col items-center justify-center text-slate-600 opacity-50 py-12">
                        <Icons.Terminal size={48} className="mb-4" />
                        <p className="text-lg uppercase tracking-widest">No se encontraron registros</p>
                        <p className="text-xs">Cargando base de datos o sin resultados...</p>
                      </div>
                    )}
                  </div>
                  
                  {/* FOOTER / PAGINATION */}
                  <footer className="h-12 bg-slate-950 border-t border-slate-800 flex items-center justify-between px-4 text-[10px] text-slate-500 z-10">
                    <div className="flex items-center gap-4">
                        <span>PÁGINA {currentPage} DE {totalPages || 1}</span>
                        <span className="hidden md:inline text-slate-600">|</span>
                        <span className="hidden md:inline">REGISTROS: {filteredDocs.length}</span>
                    </div>

                    <div className="flex gap-2">
                        <button 
                            disabled={currentPage === 1}
                            onClick={() => setCurrentPage(prev => Math.max(prev - 1, 1))}
                            className="p-1.5 border border-slate-700 rounded hover:bg-slate-800 disabled:opacity-30 disabled:cursor-not-allowed transition-colors"
                        >
                            <Icons.ChevronLeft size={14} />
                        </button>
                        <button 
                            disabled={currentPage === totalPages || totalPages === 0}
                            onClick={() => setCurrentPage(prev => Math.min(prev + 1, totalPages))}
                            className="p-1.5 border border-slate-700 rounded hover:bg-slate-800 disabled:opacity-30 disabled:cursor-not-allowed transition-colors"
                        >
                            <Icons.ChevronRight size={14} />
                        </button>
                    </div>
                  </footer>
                </main>
              </div>
            </div>
          );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<GestorNormativo />);
    </script>
</body>
</html>
